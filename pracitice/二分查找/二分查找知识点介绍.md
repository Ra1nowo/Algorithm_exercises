### 二分查找

> 二分查找又叫做折半查找,它仅仅适用于有序的顺序表

### 二分查找的基本思想

> 首先将给定值target和序列中的中间值进行比较
> 若相等,则查找成功,返回该元素的存储位置
> 若不等,则只可能在前半部分和后半部分,在缩小的范围内进行查找

根据上述思想,我们可以写出二分查找的递归代码

```
    int dfs(vector<int> &nums, int target,int l, int r) {
        if (l > r) return -1;
        int mid = (l+r) >> 1;
        if (nums[mid] == target) return mid;
        if (nums[mid] > target) return dfs(nums,target,l,mid-1);
        else return dfs(nums,target,mid+1,r);
    }
    int search(vector<int>& nums, int target) {
        int res = dfs(nums,target,0,nums.size()-1);
        return res;
    }
```
> 但是递归的代码效率不高,所以我们一般采用递推的方法解决

下面是几个模板

> 左右都为闭区间

```
int l = 0, r = n-1;
while (l <= r ) {
    int mid = (l + r) >> 1;
    if (a[mid] == t) return mid;
    if (a[mid] > t) r = mid-1;
    else l = mid + 1;
}
```

> 左闭右开区间

```
int l = 0, r = n;
while (l < r) {
    int mid = (l + r) >> 1;
    if (a[mid] >= t) r = mid;
    else l = mid+1;
    return r; 
}
```

> 左右都为开区间

```
int l = 0, r = n;
while (l +1 < r) {
    int mid = (l + r) >> 1;
    if (a[mid] > t) r = mid;
    else l = mid;
    return l;
}
```

### C++中<algorithm>头文件中的二分查找函数
> - *upper_bound()*  返回第一个大于指定值的下标
> - *lower_bound()*  返回第一个大于等于指定值的下标


### 习题系列

习题1：二分找到峰顶

> 单峰序列是指,在这个序列中存在一个位置,满足这个位置的左侧（含该位置）是严格递增的、右侧（含该位置）是严格递减的
> 这个位置被称作峰顶位置
> 现在给定一个单峰序列，求峰顶位置的下标。
> 注：使用二分法实现。

> 输入描述:
```
> 第一行为一个正整数表示序列的长度；
> 第二行按顺序给出单峰序列的个元素
> 每个元素假设序列的下标从0开始。
> 数据保证不是单调序列，一定有峰顶。
```
> 输出描述:
```
> 输出峰顶位置的下标。
```
> 示例：
> 输入：
```
> 5
> 1 3 5 2 1
```
> 输出:
```
> 2
```

习题2：整数查找

> 给定一个长度为n且非严格递增的序列 A
> 再给定 q组查询，每组查询为：
> 1 l r x：输出 A l∼r中等于x最左边的数的下标,若不存在输出 -1。
> 2 l r x：输出 A l∼r中等于x最右边的数的下标,若不存在输出 -1。
> 3 l r x：输出 A l∼r中大于等于x的第一个数的下标,若不存在输出 -1。
> 4 l r x：输出 A l∼r中大于x的第一个数的下标,若不存在输出 -1。

> 输入描述：
```
> 第一行输入两个正整数n,q
> 第二行输出n个整数 
> 接下来q行输入，表示查询
```

> 输出描述：
```
> 对于每一个查询,按行输出结果
```

习题3：递增3元组

> 给定三个整数数组a[1~n],b[1~n],c[1~n],
> 请统计有多少个三元组(i,j,k)满足a[i] < b[j] < c[k]

> 输入描述：
```
第一行包含一个整数N
第二行包含N个整数A1~AN
第三行包含N个整数B1~BN
第四行包含N个整数C1~CN
```
> 输出描述
```
输出一个整数表示结果
```
> 示例：
> 输入：
```
3
1 1 1
2 2 2
3 3 3
```
> 输出：
```
27
```

### 更新中...
